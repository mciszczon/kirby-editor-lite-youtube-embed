(function () {function h(a){return a&&a.__esModule?{d:a.default}:{d:a}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var $IxO8$$interop$default=h(i);$IxO8$$interop$default.d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i={};function j(e,r,$){return r in e?Object.defineProperty(e,r,{value:$,enumerable:!0,configurable:!0,writable:!0}):e[r]=$,e}i=j;class b extends HTMLElement{connectedCallback(){this.videoId=encodeURIComponent(this.getAttribute("videoid"));const e=this.getAttribute("playlabel");this.playLabel=e?encodeURIComponent(e):"Play",this.posterUrl=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`,b.addPrefetch("preload",this.posterUrl,"image"),this.style.backgroundImage=`url("${this.posterUrl}")`;let t=this.querySelector(".lty-playbtn");t||((t=document.createElement("button")).type="button",t.classList.add("lty-playbtn"),t.title=decodeURIComponent(this.playLabel),this.append(t)),this.addEventListener("pointerover",b.warmConnections,{once:!0}),this.addEventListener("click",e=>this.addIframe())}static addPrefetch(e,t,a){const d=document.createElement("link");d.rel=e,d.href=t,a&&(d.as=a),document.head.append(d)}static warmConnections(){b.preconnected||(b.addPrefetch("preconnect","https://www.youtube-nocookie.com"),b.addPrefetch("preconnect","https://www.google.com"),b.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),b.addPrefetch("preconnect","https://static.doubleclick.net"),b.preconnected=!0)}addIframe(){const e=new URLSearchParams(this.getAttribute("params")||[]);e.append("autoplay","1");const t=`\n<iframe width="560" height="315" frameborder="0"\n  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\n  src="https://www.youtube-nocookie.com/embed/${this.videoId}?${e.toString()}"\n></iframe>`;this.insertAdjacentHTML("beforeend",t),this.classList.add("lyt-activated")}}customElements.define("lite-youtube",b);var c={label:"Lite YouTube Embed",icon:"video",props:{attrs:{type:Object,default:function(){return{videoId:null}}}},computed:{fields:function(){return{videoId:{label:this.$t("editor.blocks.lite-youtube-embed.videoId.label"),type:"text",icon:"video",placeholder:this.$t("editor.blocks.lite-youtube-embed.placeholder")}}}},methods:{focus:function(){this.$refs.element.focus()},caption:function(e){this.$emit("input",{attrs:g(g({},this.attrs),{},{caption:e})})},menu:function(){return this.attrs.videoId?[{icon:"open",label:this.$t("editor.blocks.lite-youtube-embed.open"),click:this.open},{icon:"video",label:this.$t("editor.blocks.lite-youtube-embed.settings"),click:this.$refs.settings.open}]:[]},open:function(){window.open("https://youtube.com/watch?v="+this.attrs.videoId,"_blank")},replace:function(){var e=this;this.$emit("input",{attrs:{videoId:null}}),this.$nextTick(function(){e.focus()})}}};if(typeof c==="function"){c=c.options}Object.assign(c,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("figure",[_vm.attrs.videoId?[_c("div",{ref:"element",attrs:{"tabindex":"0"},on:{"keydown":[function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"backspace",undefined,$event.key,undefined)){return null}return _vm.$emit("remove")},function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"delete",[8,46],$event.key,["Backspace","Delete","Del"])){return null}return _vm.$emit("remove")},function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){return null}$event.preventDefault();return _vm.$emit("append")},function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"up",38,$event.key,["Up","ArrowUp"])){return null}return _vm.$emit("prev")},function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"down",40,$event.key,["Down","ArrowDown"])){return null}return _vm.$emit("next")}]}},[_c("lite-youtube",{attrs:{"videoid":_vm.attrs.videoId}})],1),_vm._v(" "),_c("figcaption",{staticClass:"k-editor-lite-youtube-embed-caption"},[_c("k-editable",{attrs:{"content":_vm.attrs.caption,"breaks":true,"placeholder":_vm.$t("editor.blocks.lite-youtube-embed.caption.placeholder")+"\u2026"},on:{"prev":_vm.focus,"shiftTab":_vm.focus,"tab":function($event){return _vm.$emit("next",$event)},"next":function($event){return _vm.$emit("next",$event)},"split":function($event){return _vm.$emit("append")},"enter":function($event){return _vm.$emit("append")},"input":_vm.caption}})],1),_vm._v(" "),_c("k-dialog",{ref:"settings",attrs:{"size":"medium"},on:{"submit":function($event){return _vm.$refs.settings.close()}}},[_c("k-form",{attrs:{"fields":_vm.fields},on:{"submit":function($event){return _vm.$refs.settings.close()}},model:{value:_vm.attrs,callback:function($$v){_vm.attrs=$$v},expression:"attrs"}})],1)]:[_c("div",{staticClass:"k-input",attrs:{"data-theme":"field","data-type":"text"}},[_c("span",{staticClass:"k-input-element"},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.attrs.videoId,expression:"attrs.videoId"}],ref:"element",staticClass:"k-text-input",attrs:{"type":"text","placeholder":_vm.$t("editor.blocks.lite-youtube-embed.placeholder")+"\u2026"},domProps:{"value":_vm.attrs.videoId},on:{"keydown":[function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"up",38,$event.key,["Up","ArrowUp"])){return null}return _vm.$emit("prev")},function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"down",40,$event.key,["Down","ArrowDown"])){return null}return _vm.$emit("next")},function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){return null}$event.preventDefault();return _vm.$emit("append")}],"input":function($event){if($event.target.composing){return}_vm.$set(_vm.attrs,"videoId",$event.target.value)}}})]),_vm._v(" "),_c("span",{staticClass:"k-input-icon"},[_c("span",{staticClass:"k-icon k-icon-video",attrs:{"aria-hidden":"true"}},[_c("svg",{attrs:{"viewBox":"0 0 16 16","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[_c("use",{attrs:{"xlink:href":"#icon-video"}})])])])])]],2)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());editor.block("lite-youtube-embed",c);})();